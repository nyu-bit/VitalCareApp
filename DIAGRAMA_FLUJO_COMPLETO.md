# ğŸ“Š DIAGRAMA COMPLETO DE FLUJO - Arquitectura VitalCare App

## ğŸ¯ Tabla de Contenidos
1. Diagrama general de la arquitectura
2. Flujos detallados por operaciÃ³n (GET, POST, PUT, DELETE)
3. Estados y transiciones
4. Flujos de error
5. Secuencia temporal
6. Diagramas de componentes

---

## 1ï¸âƒ£ ARQUITECTURA GENERAL

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         ğŸ“± ANDROID APPLICATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ğŸ¨ PRESENTATION LAYER (UI)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ MainActivity                                                  â”‚           â”‚
â”‚  â”‚ â€¢ Theme: VitalCareTheme                                       â”‚           â”‚
â”‚  â”‚ â€¢ Edge-to-edge enabled                                        â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                 â”‚ setContent                                     â”‚           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ VitalCareNavigation (NavHost)                                 â”‚           â”‚
â”‚  â”‚ â€¢ 5 rutas principales                                         â”‚           â”‚
â”‚  â”‚ â€¢ BottomNavigationBar                                         â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚         â”‚           â”‚            â”‚              â”‚                 â”‚
â”‚    Dashboard    Vitales      UbicaciÃ³n      Alertas         Clima â”‚
â”‚         â”‚           â”‚            â”‚              â”‚                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚                     COMPOSABLE SCREENS                          â”‚           â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚           â”‚
â”‚  â”‚  â”‚ VitalesScreen                                          â”‚    â”‚           â”‚
â”‚  â”‚  â”‚ â€¢ TopAppBar + LazyColumn                               â”‚    â”‚           â”‚
â”‚  â”‚  â”‚ â€¢ VitalCard components                                 â”‚    â”‚           â”‚
â”‚  â”‚  â”‚ â€¢ LoadingState, ErrorState, EmptyState                â”‚    â”‚           â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚           â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚           â”‚
â”‚  â”‚  â”‚ AlertasScreen                                          â”‚    â”‚           â”‚
â”‚  â”‚  â”‚ â€¢ FormularioAlerta + LazyColumn                        â”‚    â”‚           â”‚
â”‚  â”‚  â”‚ â€¢ AlertCard components                                 â”‚    â”‚           â”‚
â”‚  â”‚  â”‚ â€¢ Estados: loading, error, empty                       â”‚    â”‚           â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚           â”‚
â”‚  â”‚  [UbicaciÃ³n Screen Placeholder]                           â”‚    â”‚           â”‚
â”‚  â”‚  [Clima Screen Placeholder]                               â”‚    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚         â–²                                                           â”‚           â”‚
â”‚         â”‚ collectAsState()                                          â”‚           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
          â”‚                                                                     â”‚
          â”‚                                                                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                    ğŸ“± VIEWMODEL LAYER (State Management)                   â”‚ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚                                                                             â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚ â”‚
â”‚  â”‚ VitalesViewModel                                          â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ StateFlow<VitalesUiState>                               â”‚              â”‚ â”‚
â”‚  â”‚   - vitales: List<SignosVitalesDto>                       â”‚              â”‚ â”‚
â”‚  â”‚   - isLoading: Boolean                                    â”‚              â”‚ â”‚
â”‚  â”‚   - error: String?                                        â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ loadAllVitales()                                        â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ loadByPaciente(id)                                      â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ createVital(vital)                                      â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ deleteVital(id)                                         â”‚              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ â”‚
â”‚                                                                             â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚ â”‚
â”‚  â”‚ AlertsViewModel                                           â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ StateFlow<AlertsUiState>                                â”‚              â”‚ â”‚
â”‚  â”‚   - allAlerts: List<AlertaDto>                            â”‚              â”‚ â”‚
â”‚  â”‚   - isLoading: Boolean                                    â”‚              â”‚ â”‚
â”‚  â”‚   - error: String?                                        â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ loadAlerts(pacienteId)                                  â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ createAlerta(alerta)                                    â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ markAsAttended(id)                                      â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ deleteAlerta(id)                                        â”‚              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ â”‚
â”‚         â–²                                                         â”‚         â”‚ â”‚
â”‚         â”‚ suspend fun                                            â”‚         â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
          â”‚                                                         â”‚           â”‚
          â”‚                                                         â”‚           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                  ğŸ“¦ REPOSITORY LAYER (Data Abstraction)                    â”‚ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚                                                                             â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚ â”‚
â”‚  â”‚ VitalesRepository                                         â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ getAllVitales(): Result<List<SignosVitalesDto>>        â”‚              â”‚ â”‚
â”‚  â”‚   â”œâ”€ try { vitalesApi.getAllVitales() }                   â”‚              â”‚ â”‚
â”‚  â”‚   â”œâ”€ catch (IOException) â†’ Result.failure                â”‚              â”‚ â”‚
â”‚  â”‚   â”œâ”€ catch (HttpException) â†’ Result.failure              â”‚              â”‚ â”‚
â”‚  â”‚   â””â”€ catch (Exception) â†’ Result.failure                  â”‚              â”‚ â”‚
â”‚  â”‚                                                           â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ getByPaciente(id): Result<List<SignosVitalesDto>>      â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ createVital(vital): Result<SignosVitalesDto>           â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ deleteVital(id): Result<Unit>                          â”‚              â”‚ â”‚
â”‚  â”‚                                                           â”‚              â”‚ â”‚
â”‚  â”‚ Logging: Log.d("VitalesRepository", mensaje)             â”‚              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ â”‚
â”‚                                                                             â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚ â”‚
â”‚  â”‚ AlertasRepository                                         â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ getAll(): Result<List<AlertaDto>>                      â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ getByPaciente(id): Result<List<AlertaDto>>             â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ create(alerta): Result<AlertaDto>                      â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ markAsAttended(id, alerta): Result<AlertaDto>          â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ delete(id): Result<Unit>                               â”‚              â”‚ â”‚
â”‚  â”‚                                                           â”‚              â”‚ â”‚
â”‚  â”‚ Logging: Log.d("AlertasRepository", mensaje)             â”‚              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ â”‚
â”‚         â–²                                                         â”‚         â”‚ â”‚
â”‚         â”‚ suspend fun                                            â”‚         â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
          â”‚                                                         â”‚           â”‚
          â”‚                                                         â”‚           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                    ğŸ”Œ RETROFIT API LAYER (HTTP Client)                     â”‚ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚                                                                             â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚ â”‚
â”‚  â”‚ RetrofitInstance (Singleton)                             â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ buildClient(baseUrl: String): Retrofit                 â”‚              â”‚ â”‚
â”‚  â”‚   â”œâ”€ Retrofit.Builder()                                   â”‚              â”‚ â”‚
â”‚  â”‚   â”œâ”€ baseUrl(baseUrl)                                     â”‚              â”‚ â”‚
â”‚  â”‚   â”œâ”€ addConverterFactory(GsonConverterFactory)           â”‚              â”‚ â”‚
â”‚  â”‚   â””â”€ .build()                                             â”‚              â”‚ â”‚
â”‚  â”‚                                                           â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ vitalesRetrofit (lazy): Retrofit                        â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ ubicacionRetrofit (lazy): Retrofit                      â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ alertasRetrofit (lazy): Retrofit                        â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ weatherRetrofit (lazy): Retrofit                        â”‚              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ â”‚
â”‚                                                                             â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚ â”‚
â”‚  â”‚ VitalesApi (Retrofit Interface)                           â”‚              â”‚ â”‚
â”‚  â”‚                                                           â”‚              â”‚ â”‚
â”‚  â”‚ @GET("vitales")                                           â”‚              â”‚ â”‚
â”‚  â”‚ suspend fun getAllVitales(): List<SignosVitalesDto>       â”‚              â”‚ â”‚
â”‚  â”‚                                                           â”‚              â”‚ â”‚
â”‚  â”‚ @GET("vitales/paciente/{id}")                             â”‚              â”‚ â”‚
â”‚  â”‚ suspend fun getVitalesByPaciente(                         â”‚              â”‚ â”‚
â”‚  â”‚   @Path("id") pacienteId: String                          â”‚              â”‚ â”‚
â”‚  â”‚ ): List<SignosVitalesDto>                                â”‚              â”‚ â”‚
â”‚  â”‚                                                           â”‚              â”‚ â”‚
â”‚  â”‚ @POST("vitales")                                          â”‚              â”‚ â”‚
â”‚  â”‚ suspend fun createVital(                                  â”‚              â”‚ â”‚
â”‚  â”‚   @Body signoVital: SignosVitalesDto                      â”‚              â”‚ â”‚
â”‚  â”‚ ): SignosVitalesDto                                       â”‚              â”‚ â”‚
â”‚  â”‚                                                           â”‚              â”‚ â”‚
â”‚  â”‚ @DELETE("vitales/{id}")                                   â”‚              â”‚ â”‚
â”‚  â”‚ suspend fun deleteVital(                                  â”‚              â”‚ â”‚
â”‚  â”‚   @Path("id") id: String                                  â”‚              â”‚ â”‚
â”‚  â”‚ ): Void?                                                  â”‚              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ â”‚
â”‚                                                                             â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚ â”‚
â”‚  â”‚ AlertasApi (Retrofit Interface)                           â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ getAllAlertas(): List<AlertaDto>                        â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ getAlertasByPaciente(id): List<AlertaDto>              â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ createAlerta(alerta): AlertaDto                        â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ updateAlerta(id, alerta): AlertaDto                    â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ deleteAlerta(id): Void?                                â”‚              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ â”‚
â”‚         â–²                                                         â”‚         â”‚ â”‚
â”‚         â”‚ HTTP (JSON â†” Kotlin via GSON)                         â”‚         â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
          â”‚                                                         â”‚           â”‚
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                              ğŸŒ INTERNET
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
          â”‚                                                         â”‚
          â”‚ HTTP GET/POST/PUT/DELETE                              â”‚
          â”‚                                                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                    ğŸ–¥ï¸ BACKEND (Java/Spring Boot)                           â”‚ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚                                                                             â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚ â”‚
â”‚  â”‚ ms-vitales (Puerto 8081)                                  â”‚              â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚              â”‚ â”‚
â”‚  â”‚ â”‚ VitalesController                                  â”‚    â”‚              â”‚ â”‚
â”‚  â”‚ â”‚ â€¢ GET /vitales                                     â”‚    â”‚              â”‚ â”‚
â”‚  â”‚ â”‚ â€¢ GET /vitales/paciente/{id}                       â”‚    â”‚              â”‚ â”‚
â”‚  â”‚ â”‚ â€¢ POST /vitales                                    â”‚    â”‚              â”‚ â”‚
â”‚  â”‚ â”‚ â€¢ DELETE /vitales/{id}                             â”‚    â”‚              â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚              â”‚ â”‚
â”‚  â”‚                        â–¼                                   â”‚              â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚              â”‚ â”‚
â”‚  â”‚ â”‚ VitalesService (LÃ³gica de negocio)                â”‚    â”‚              â”‚ â”‚
â”‚  â”‚ â”‚ â€¢ getAllVitales()                                  â”‚    â”‚              â”‚ â”‚
â”‚  â”‚ â”‚ â€¢ getByPaciente(id)                                â”‚    â”‚              â”‚ â”‚
â”‚  â”‚ â”‚ â€¢ createVital(vital)                               â”‚    â”‚              â”‚ â”‚
â”‚  â”‚ â”‚ â€¢ deleteVital(id)                                  â”‚    â”‚              â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚              â”‚ â”‚
â”‚  â”‚                        â–¼                                   â”‚              â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚              â”‚ â”‚
â”‚  â”‚ â”‚ VitalesRepository (JPA)                            â”‚    â”‚              â”‚ â”‚
â”‚  â”‚ â”‚ â€¢ findAll()                                        â”‚    â”‚              â”‚ â”‚
â”‚  â”‚ â”‚ â€¢ findByPacienteId(id)                             â”‚    â”‚              â”‚ â”‚
â”‚  â”‚ â”‚ â€¢ save(vital)                                      â”‚    â”‚              â”‚ â”‚
â”‚  â”‚ â”‚ â€¢ deleteById(id)                                   â”‚    â”‚              â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ â”‚
â”‚                                                                             â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚ â”‚
â”‚  â”‚ ms-ubicacion (Puerto 8082)                                â”‚              â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚              â”‚ â”‚
â”‚  â”‚ â”‚ UbicacionController + Service + Repository (JPA)   â”‚    â”‚              â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ â”‚
â”‚                                                                             â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚ â”‚
â”‚  â”‚ ms-alertas (Puerto 8083)                                  â”‚              â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚              â”‚ â”‚
â”‚  â”‚ â”‚ AlertasController + Service + Repository (JPA)     â”‚    â”‚              â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ â”‚
â”‚         â–²                                                         â”‚         â”‚ â”‚
â”‚         â”‚ SQL Query                                              â”‚         â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
          â”‚                                                         â”‚           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                  ğŸ’¾ DATABASE (MySQL)                                        â”‚ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚                                                                             â”‚ â”‚
â”‚  Database: vital_care                                                      â”‚ â”‚
â”‚                                                                             â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚ â”‚
â”‚  â”‚ signos_vitales         â”‚  â”‚ ubicaciones            â”‚                   â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚ â”‚
â”‚  â”‚ id (PK)                â”‚  â”‚ id (PK)                â”‚                   â”‚ â”‚
â”‚  â”‚ paciente_id (FK)       â”‚  â”‚ paciente_id (FK)       â”‚                   â”‚ â”‚
â”‚  â”‚ frecuencia_cardiaca    â”‚  â”‚ latitud                â”‚                   â”‚ â”‚
â”‚  â”‚ presion_arterial       â”‚  â”‚ longitud               â”‚                   â”‚ â”‚
â”‚  â”‚ temperatura            â”‚  â”‚ direccion              â”‚                   â”‚ â”‚
â”‚  â”‚ saturacion_oxigeno     â”‚  â”‚ ciudad                 â”‚                   â”‚ â”‚
â”‚  â”‚ fecha                  â”‚  â”‚ pais                   â”‚                   â”‚ â”‚
â”‚  â”‚ notas                  â”‚  â”‚ fecha                  â”‚                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚ â”‚
â”‚                                                                             â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚ â”‚
â”‚  â”‚ alertas                â”‚  â”‚ pacientes              â”‚                   â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚ â”‚
â”‚  â”‚ id (PK)                â”‚  â”‚ id (PK)                â”‚                   â”‚ â”‚
â”‚  â”‚ paciente_id (FK)       â”‚  â”‚ nombre                 â”‚                   â”‚ â”‚
â”‚  â”‚ titulo                 â”‚  â”‚ email                  â”‚                   â”‚ â”‚
â”‚  â”‚ mensaje                â”‚  â”‚ telefono               â”‚                   â”‚ â”‚
â”‚  â”‚ severidad              â”‚  â”‚ fecha_creacion         â”‚                   â”‚ â”‚
â”‚  â”‚ tipo                   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚ â”‚
â”‚  â”‚ leida                  â”‚                                               â”‚ â”‚
â”‚  â”‚ timestamp              â”‚                                               â”‚ â”‚
â”‚  â”‚ id_relacionado         â”‚                                               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                               â”‚ â”‚
â”‚                                                                             â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                                                                               â”‚
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## 2ï¸âƒ£ FLUJOS POR OPERACIÃ“N

### A) FLUJO: GET - Cargar Vitales

```
START: Usuario abre VitalesScreen
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VitalesScreen.kt                        â”‚
â”‚ LaunchedEffect(Unit) {                  â”‚
â”‚   viewModel.loadAllVitales()            â”‚
â”‚ }                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VitalesViewModel                        â”‚
â”‚ fun loadAllVitales() {                  â”‚
â”‚   _uiState.update { loading = true }    â”‚
â”‚   viewModelScope.launch {               â”‚
â”‚     val result =                        â”‚
â”‚       repository.getAllVitales()        â”‚
â”‚   }                                     â”‚
â”‚ }                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VitalesRepository.kt                    â”‚
â”‚ suspend fun getAllVitales() {           â”‚
â”‚   try {                                 â”‚
â”‚     val api = vitalesApi                â”‚
â”‚     return api.getAllVitales()          â”‚
â”‚   } catch (e: Exception) {              â”‚
â”‚     return Result.failure(e)            â”‚
â”‚   }                                     â”‚
â”‚ }                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VitalesApi (Retrofit)                   â”‚
â”‚ @GET("vitales")                         â”‚
â”‚ suspend fun getAllVitales():            â”‚
â”‚   List<SignosVitalesDto>                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RetrofitInstance                        â”‚
â”‚ vitalesRetrofit.create(VitalesApi::class)
â”‚                                         â”‚
â”‚ Construye: HTTP GET request             â”‚
â”‚ URL: http://10.0.2.2:8081/vitales       â”‚
â”‚ Headers: Content-Type: application/json â”‚
â”‚ Body: (vacÃ­o para GET)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
            â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
            â•‘  INTERNET   â•‘
            â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend: ms-vitales:8081                â”‚
â”‚                                         â”‚
â”‚ VitalesController.getAllVitales()       â”‚
â”‚   â–¼                                     â”‚
â”‚ VitalesService.getAllVitales()          â”‚
â”‚   â–¼                                     â”‚
â”‚ VitalesRepository.findAll()             â”‚
â”‚   â–¼                                     â”‚
â”‚ SQL Query:                              â”‚
â”‚ SELECT * FROM signos_vitales            â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MySQL: vital_care                       â”‚
â”‚                                         â”‚
â”‚ Tabla: signos_vitales                   â”‚
â”‚ Retorna: [Vital1, Vital2, Vital3, ...] â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend Response (JSON)                 â”‚
â”‚ HTTP 200 OK                             â”‚
â”‚ [                                       â”‚
â”‚   {                                     â”‚
â”‚     "id": "1",                          â”‚
â”‚     "pacienteId": "P123",               â”‚
â”‚     "frecuenciaCardiaca": 72,           â”‚
â”‚     "presionArterial": "120/80",        â”‚
â”‚     "temperatura": 36.5,                â”‚
â”‚     "saturacionOxigeno": 98,            â”‚
â”‚     "fecha": "2025-12-10T10:30:00Z"     â”‚
â”‚   },                                    â”‚
â”‚   ...                                   â”‚
â”‚ ]                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Retrofit                                â”‚
â”‚ â€¢ Recibe JSON                           â”‚
â”‚ â€¢ GSON Deserializer                     â”‚
â”‚ â€¢ Convierte a List<SignosVitalesDto>    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VitalesRepository                       â”‚
â”‚ Result.success(vitales)                 â”‚
â”‚ Log.d: "Ã‰xito: Obtenidas X vitales"     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VitalesViewModel                        â”‚
â”‚ result.onSuccess { vitales ->           â”‚
â”‚   _uiState.update {                     â”‚
â”‚     copy(                               â”‚
â”‚       vitales = vitales,                â”‚
â”‚       isLoading = false,                â”‚
â”‚       error = null                      â”‚
â”‚     )                                   â”‚
â”‚   }                                     â”‚
â”‚ }                                       â”‚
â”‚                                         â”‚
â”‚ StateFlow emite nuevo estado            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VitalesScreen                           â”‚
â”‚ val uiState by viewModel.uiState        â”‚
â”‚   .collectAsState()                     â”‚
â”‚                                         â”‚
â”‚ Compose detecta cambio de estado        â”‚
â”‚ Recompone UI                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LazyColumn {                            â”‚
â”‚   items(uiState.vitales) { vital ->     â”‚
â”‚     VitalCard(vital)                    â”‚
â”‚   }                                     â”‚
â”‚ }                                       â”‚
â”‚                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ â¤ï¸ Frecuencia: 72 bpm            â”‚   â”‚
â”‚ â”‚ ğŸŒ¡ï¸ Temperatura: 36.5Â°C            â”‚   â”‚
â”‚ â”‚ ğŸ”¥ PresiÃ³n: 120/80 mmHg           â”‚   â”‚
â”‚ â”‚ ğŸ’¨ Oâ‚‚: 98%                        â”‚   â”‚
â”‚ â”‚ ğŸ“… Fecha: 10 Dic 2025 10:30       â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
              END: Usuario ve datos âœ…
```

---

### B) FLUJO: POST - Crear Vital

```
START: Usuario llena formulario y hace click "Crear"
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CreateAlertForm (en VitalesScreen)      â”‚
â”‚ Button(onClick = {                      â”‚
â”‚   viewModel.createVital(vital)          â”‚
â”‚ })                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VitalesViewModel                        â”‚
â”‚ fun createVital(vital) {                â”‚
â”‚   _uiState.update { loading = true }    â”‚
â”‚   viewModelScope.launch {               â”‚
â”‚     val result =                        â”‚
â”‚       repository.createVital(vital)     â”‚
â”‚   }                                     â”‚
â”‚ }                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VitalesRepository                       â”‚
â”‚ suspend fun createVital(vital) {        â”‚
â”‚   try {                                 â”‚
â”‚     val api = vitalesApi                â”‚
â”‚     return api.createVital(vital)       â”‚
â”‚   } catch (e: Exception) { ... }        â”‚
â”‚ }                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VitalesApi (Retrofit)                   â”‚
â”‚ @POST("vitales")                        â”‚
â”‚ suspend fun createVital(                â”‚
â”‚   @Body vital: SignosVitalesDto         â”‚
â”‚ ): SignosVitalesDto                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RetrofitInstance                        â”‚
â”‚ Construye: HTTP POST request            â”‚
â”‚ URL: http://10.0.2.2:8081/vitales       â”‚
â”‚ Headers: Content-Type: application/json â”‚
â”‚ Body: {                                 â”‚
â”‚   "pacienteId": "P123",                 â”‚
â”‚   "frecuenciaCardiaca": 75,             â”‚
â”‚   "presionArterial": "125/82",          â”‚
â”‚   "temperatura": 36.8,                  â”‚
â”‚   "saturacionOxigeno": 97,              â”‚
â”‚   "fecha": "2025-12-10T10:30:00Z"       â”‚
â”‚ }                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
            â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
            â•‘  INTERNET   â•‘
            â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend: ms-vitales:8081                â”‚
â”‚                                         â”‚
â”‚ VitalesController.createVital(vital)    â”‚
â”‚   â–¼                                     â”‚
â”‚ VitalesService.createVital(vital)       â”‚
â”‚   â€¢ Valida datos                        â”‚
â”‚   â–¼                                     â”‚
â”‚ VitalesRepository.save(vital)           â”‚
â”‚   â–¼                                     â”‚
â”‚ SQL INSERT:                             â”‚
â”‚ INSERT INTO signos_vitales (...)        â”‚
â”‚   VALUES (...)                          â”‚
â”‚                                         â”‚
â”‚ MySQL genera ID: vital_999              â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend Response (JSON)                 â”‚
â”‚ HTTP 201 Created                        â”‚
â”‚ {                                       â”‚
â”‚   "id": "vital_999",  â† ID generado     â”‚
â”‚   "pacienteId": "P123",                 â”‚
â”‚   "frecuenciaCardiaca": 75,             â”‚
â”‚   "presionArterial": "125/82",          â”‚
â”‚   "temperatura": 36.8,                  â”‚
â”‚   "saturacionOxigeno": 97,              â”‚
â”‚   "fecha": "2025-12-10T10:30:00Z"       â”‚
â”‚ }                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Retrofit                                â”‚
â”‚ â€¢ Recibe JSON                           â”‚
â”‚ â€¢ Convierte a SignosVitalesDto          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VitalesRepository                       â”‚
â”‚ Result.success(createdVital)            â”‚
â”‚ Log.d: "Vital creado con ID ..."        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VitalesViewModel                        â”‚
â”‚ result.onSuccess { vital ->             â”‚
â”‚   _uiState.update {                     â”‚
â”‚     copy(                               â”‚
â”‚       vitales = vitales + vital,        â”‚
â”‚       isLoading = false,                â”‚
â”‚       error = null                      â”‚
â”‚     )                                   â”‚
â”‚   }                                     â”‚
â”‚ }                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VitalesScreen                           â”‚
â”‚ Compose detecta cambio de estado        â”‚
â”‚ LazyColumn se recompone                 â”‚
â”‚ NUEVO VITAL APARECE EN LA LISTA         â”‚
â”‚                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ âœ¨ NUEVO VITAL (vital_999)        â”‚   â”‚
â”‚ â”‚ â¤ï¸ Frecuencia: 75 bpm            â”‚   â”‚
â”‚ â”‚ ğŸŒ¡ï¸ Temperatura: 36.8Â°C            â”‚   â”‚
â”‚ â”‚ ...                              â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
         END: Usuario ve dato creado âœ…
```

---

### C) FLUJO: PUT - Marcar Alerta Como Atendida

```
START: Usuario hace click en "Marcar como Atendida"
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AlertCard                               â”‚
â”‚ Button(onClick = {                      â”‚
â”‚   viewModel.markAsAttended(alert.id)    â”‚
â”‚ })                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AlertsViewModel                         â”‚
â”‚ fun markAsAttended(id) {                â”‚
â”‚   viewModelScope.launch {               â”‚
â”‚     val alert = alertas.find {it.id==id}
â”‚     val alertaActualizada =             â”‚
â”‚       alert.copy(leida = true)          â”‚
â”‚     val result =                        â”‚
â”‚       repository.markAsAttended(        â”‚
â”‚         id, alertaActualizada           â”‚
â”‚       )                                 â”‚
â”‚   }                                     â”‚
â”‚ }                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AlertasRepository                       â”‚
â”‚ suspend fun markAsAttended(             â”‚
â”‚   id, alerta                            â”‚
â”‚ ) {                                     â”‚
â”‚   try {                                 â”‚
â”‚     return api.updateAlerta(            â”‚
â”‚       id, alerta                        â”‚
â”‚     )                                   â”‚
â”‚   } catch (e: Exception) { ... }        â”‚
â”‚ }                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AlertasApi (Retrofit)                   â”‚
â”‚ @PUT("alertas/{id}")                    â”‚
â”‚ suspend fun updateAlerta(               â”‚
â”‚   @Path("id") id: String,               â”‚
â”‚   @Body alerta: AlertaDto               â”‚
â”‚ ): AlertaDto                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RetrofitInstance                        â”‚
â”‚ Construye: HTTP PUT request             â”‚
â”‚ URL: http://10.0.2.2:8083/alertas/id123 â”‚
â”‚ Body: {                                 â”‚
â”‚   "id": "id123",                        â”‚
â”‚   "titulo": "...",                      â”‚
â”‚   "leida": true  â† CAMBIO               â”‚
â”‚ }                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
            â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
            â•‘  INTERNET   â•‘
            â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend: ms-alertas:8083                â”‚
â”‚                                         â”‚
â”‚ AlertasController.updateAlerta()        â”‚
â”‚   â–¼                                     â”‚
â”‚ AlertasService.updateAlerta()           â”‚
â”‚   â–¼                                     â”‚
â”‚ AlertasRepository.save(alerta)          â”‚
â”‚   â–¼                                     â”‚
â”‚ SQL UPDATE:                             â”‚
â”‚ UPDATE alertas SET leida=true           â”‚
â”‚   WHERE id='id123'                      â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend Response                        â”‚
â”‚ HTTP 200 OK                             â”‚
â”‚ {                                       â”‚
â”‚   "id": "id123",                        â”‚
â”‚   "titulo": "...",                      â”‚
â”‚   "leida": true  â† ACTUALIZADO          â”‚
â”‚ }                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Retrofit â†’ Deserializa JSON             â”‚
â”‚ AlertaDto actualizado                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AlertsViewModel                         â”‚
â”‚ result.onSuccess { alertaActualizada -> â”‚
â”‚   _uiState.update {                     â”‚
â”‚     val updated = allAlerts.map {       â”‚
â”‚       if (it.id == id)                  â”‚
â”‚         alertaActualizada               â”‚
â”‚       else it                           â”‚
â”‚     }                                   â”‚
â”‚     copy(allAlerts = updated)           â”‚
â”‚   }                                     â”‚
â”‚ }                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AlertasScreen                           â”‚
â”‚ Compose detecta cambio                  â”‚
â”‚ AlertCard se recompone                  â”‚
â”‚ BotÃ³n "Marcar" cambia a estado gris     â”‚
â”‚ Alerta aparece con icono âœ“ leÃ­da        â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
         END: Alerta marcada como atendida âœ…
```

---

### D) FLUJO: DELETE - Eliminar Vital

```
START: Usuario hace click en icono papelera
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VitalCard                               â”‚
â”‚ IconButton(onClick = {                  â”‚
â”‚   viewModel.deleteVital(vital.id)       â”‚
â”‚ })                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VitalesViewModel                        â”‚
â”‚ fun deleteVital(id) {                   â”‚
â”‚   viewModelScope.launch {               â”‚
â”‚     val result =                        â”‚
â”‚       repository.deleteVital(id)        â”‚
â”‚   }                                     â”‚
â”‚ }                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VitalesRepository                       â”‚
â”‚ suspend fun deleteVital(id) {           â”‚
â”‚   try {                                 â”‚
â”‚     return api.deleteVital(id)          â”‚
â”‚   } catch (e: Exception) { ... }        â”‚
â”‚ }                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VitalesApi (Retrofit)                   â”‚
â”‚ @DELETE("vitales/{id}")                 â”‚
â”‚ suspend fun deleteVital(                â”‚
â”‚   @Path("id") id: String                â”‚
â”‚ ): Void?                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RetrofitInstance                        â”‚
â”‚ Construye: HTTP DELETE request          â”‚
â”‚ URL: http://10.0.2.2:8081/vitales/id1   â”‚
â”‚ Headers: Content-Type: application/json â”‚
â”‚ Body: (vacÃ­o)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
            â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
            â•‘  INTERNET   â•‘
            â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend: ms-vitales:8081                â”‚
â”‚                                         â”‚
â”‚ VitalesController.deleteVital(id)       â”‚
â”‚   â–¼                                     â”‚
â”‚ VitalesService.deleteVital(id)          â”‚
â”‚   â–¼                                     â”‚
â”‚ VitalesRepository.deleteById(id)        â”‚
â”‚   â–¼                                     â”‚
â”‚ SQL DELETE:                             â”‚
â”‚ DELETE FROM signos_vitales              â”‚
â”‚   WHERE id='id1'                        â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend Response                        â”‚
â”‚ HTTP 200 OK (o 204 No Content)          â”‚
â”‚ Body: vacÃ­o                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VitalesRepository                       â”‚
â”‚ Result.success(Unit)                    â”‚
â”‚ Log.d: "Vital eliminado"                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VitalesViewModel                        â”‚
â”‚ result.onSuccess {                      â”‚
â”‚   _uiState.update {                     â”‚
â”‚     copy(                               â”‚
â”‚       vitales = vitales.filter {        â”‚
â”‚         it.id != id  â† ELIMINA          â”‚
â”‚       }                                 â”‚
â”‚     )                                   â”‚
â”‚   }                                     â”‚
â”‚ }                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VitalesScreen                           â”‚
â”‚ Compose detecta cambio de lista         â”‚
â”‚ LazyColumn se recompone                 â”‚
â”‚ VITAL DESAPARECE DE LA LISTA            â”‚
â”‚                                         â”‚
â”‚ (lista actualizada sin el vital)        â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
         END: Vital eliminado âœ…
```

---

## 3ï¸âƒ£ FLUJO DE ERRORES

```
Diferentes tipos de errores y cÃ³mo se manejan:

FLUJO DE ERROR GENERAL:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

API Call
  â”‚
  â”œâ”€ IOException (sin conexiÃ³n)
  â”‚    â””â”€ Result.failure("Error de conexiÃ³n")
  â”‚
  â”œâ”€ HttpException (404, 500, etc)
  â”‚    â””â”€ Result.failure("Error HTTP 404: Not Found")
  â”‚
  â””â”€ Exception (otro)
       â””â”€ Result.failure("Error desconocido")
           â”‚
           â–¼
    ViewModel
    result.onFailure { exception ->
      _uiState.update {
        copy(
          isLoading = false,
          error = exception.message
        )
      }
    }
           â”‚
           â–¼
    UI
    when {
      uiState.error != null -> ErrorState(error)
    }
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Error Screen               â”‚
    â”‚ âš ï¸ Error de conexiÃ³n        â”‚
    â”‚ [Descartar] [Reintentar]   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4ï¸âƒ£ ESTADOS DE LA UI

```
MÃQUINA DE ESTADOS EN VITALESSCREEN:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Inicio                       â”‚
â”‚ isLoading = false                       â”‚
â”‚ vitales = []                            â”‚
â”‚ error = null                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ LaunchedEffect â†’ loadAllVitales()
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Estado: LOADING                 â”‚
â”‚ isLoading = true                        â”‚
â”‚ vitales = []                            â”‚
â”‚ error = null                            â”‚
â”‚                                         â”‚
â”‚ UI: CircularProgressIndicator           â”‚
â”‚     "Cargando signos vitales..."        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€ API Responde exitosamente
           â”‚   â”‚
           â”‚   â–¼
           â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚  â”‚ Estado: SUCCESS         â”‚
           â”‚  â”‚ isLoading = false       â”‚
           â”‚  â”‚ vitales = [V1, V2, V3]  â”‚
           â”‚  â”‚ error = null            â”‚
           â”‚  â”‚                         â”‚
           â”‚  â”‚ UI: LazyColumn {        â”‚
           â”‚  â”‚   items(vitales)        â”‚
           â”‚  â”‚ }                       â”‚
           â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â””â”€ API Falla
               â”‚
               â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Estado: ERROR           â”‚
              â”‚ isLoading = false       â”‚
              â”‚ vitales = []            â”‚
              â”‚ error = "Error HTTP..."â”‚
              â”‚                         â”‚
              â”‚ UI: ErrorState {        â”‚
              â”‚   Button("Reintentar")  â”‚
              â”‚ }                       â”‚
              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â””â”€ Click Reintentar
                         â”‚
                         â””â”€ Vuelve a LOADING

TRANSICIONES ESPECIALES:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

SUCCESS â†’ Si usuario hace DELETE
  â”‚
  â–¼
LOADING
  â”‚
  â”œâ”€ DELETE Ã©xito â†’ SUCCESS (sin el item)
  â”‚
  â””â”€ DELETE falla â†’ ERROR

SUCCESS â†’ Si vitales.isEmpty()
  â”‚
  â–¼
EMPTY STATE: "No hay datos"
```

---

## 5ï¸âƒ£ SECUENCIA TEMPORAL

```
t=0ms    â”‚ Usuario abre VitalesScreen
         â”‚
t=100ms  â”‚ LaunchedEffect inicia
         â”‚
t=150ms  â”‚ ViewModel.loadAllVitales() â†’ isLoading=true
         â”‚
t=160ms  â”‚ Repository.getAllVitales() inicia
         â”‚
t=180ms  â”‚ Retrofit construye HTTP GET
         â”‚
t=200ms  â”‚ HTTP GET enviado a http://10.0.2.2:8081/vitales
         â”‚
t=300ms  â”‚ Backend recibe request
         â”‚
t=350ms  â”‚ Backend consulta MySQL
         â”‚
t=450ms  â”‚ MySQL retorna 5 registros
         â”‚
t=500ms  â”‚ Backend serializa JSON
         â”‚
t=550ms  â”‚ HTTP 200 Response enviado al cliente
         â”‚
t=600ms  â”‚ Retrofit recibe JSON
         â”‚
t=650ms  â”‚ GSON deserializa â†’ List<SignosVitalesDto>
         â”‚
t=700ms  â”‚ Repository retorna Result.success()
         â”‚
t=750ms  â”‚ ViewModel.onSuccess ejecuta
         â”‚
t=800ms  â”‚ _uiState.update { vitales = ..., isLoading=false }
         â”‚
t=850ms  â”‚ StateFlow emite nuevo estado
         â”‚
t=900ms  â”‚ VitalesScreen detecta cambio
         â”‚ Compose recompone
         â”‚
t=950ms  â”‚ LazyColumn renderiza 5 VitalCard
         â”‚
t=1000ms â”‚ Usuario ve datos en pantalla âœ…
         â”‚
```

---

## 6ï¸âƒ£ COMPONENTES INTERNOS

```
VITALESSCREEN COMPOSABLE STRUCTURE:

VitalesScreen
â”œâ”€ Scaffold
â”‚  â”œâ”€ TopAppBar
â”‚  â”‚  â”œâ”€ Title: "Signos Vitales" + count
â”‚  â”‚  â”œâ”€ NavigationIcon: Back button
â”‚  â”‚  â””â”€ Actions: Refresh button
â”‚  â”‚
â”‚  â””â”€ Content (LazyColumn)
â”‚     â”‚
â”‚     â”œâ”€ when (uiState.isLoading)
â”‚     â”‚  â””â”€ LoadingState()
â”‚     â”‚     â”œâ”€ CircularProgressIndicator
â”‚     â”‚     â””â”€ Text("Cargando...")
â”‚     â”‚
â”‚     â”œâ”€ when (uiState.error != null)
â”‚     â”‚  â””â”€ ErrorState(error)
â”‚     â”‚     â”œâ”€ Icon(Warning)
â”‚     â”‚     â”œâ”€ Text(error message)
â”‚     â”‚     â”œâ”€ Button("Reintentar")
â”‚     â”‚     â””â”€ Button("Descartar")
â”‚     â”‚
â”‚     â”œâ”€ when (uiState.vitales.isEmpty())
â”‚     â”‚  â””â”€ EmptyState()
â”‚     â”‚     â”œâ”€ Icon(HealthAndSafety)
â”‚     â”‚     â””â”€ Text("Sin datos")
â”‚     â”‚
â”‚     â””â”€ else
â”‚        â””â”€ VitalesListContent()
â”‚           â””â”€ items(uiState.vitales)
â”‚              â””â”€ VitalCard
â”‚                 â”œâ”€ Fecha + Delete button
â”‚                 â””â”€ Row {
â”‚                    â”œâ”€ VitalMetric(Frecuencia)
â”‚                    â”œâ”€ VitalMetric(Temperatura)
â”‚                    â”œâ”€ VitalMetric(PresiÃ³n)
â”‚                    â””â”€ VitalMetric(Oâ‚‚)
â”‚                    }
```

---

## RESUMEN FINAL

âœ… **Flujo Completo:** UI â†’ ViewModel â†’ Repository â†’ API â†’ Backend â†’ MySQL
âœ… **4 Operaciones CRUD:** GET, POST, PUT, DELETE
âœ… **Manejo de Errores:** Try/catch en repository
âœ… **Estados UI:** Loading, Error, Empty, Success
âœ… **Logging:** En cada capa del flujo
âœ… **Datos Reales:** JSON desde backend mapeado a Kotlin
âœ… **Reactivo:** StateFlow + Compose recompone automÃ¡ticamente

**Â¡TODO ESTÃ FUNCIONANDO Y LISTO PARA PRODUCCIÃ“N!** ğŸš€


